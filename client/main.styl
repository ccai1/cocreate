:root
  --palette-size: 32px
  // The following grow to accomodate scrollbars if needed:
  --palette-left-width: var(--palette-size)
  --palette-bottom-height: var(--palette-size)
  --palette-color: #ccc
  --palette-border: 2px
  --tooltip-color: hsl(60, 50%, 76%)
  --tooltip-width: 200px
  --tooltip-arrow: 5px

// A few basics from Bootstrap:
*, :before, :after
  box-sizing: border-box
svg
  overflow: hidden
input
  width: 100%
kbd
  padding: 2px 4px
  font-family: monospace
  font-size: 90%
  color: #fff
  background-color: #333
  border-radius: 3px
  box-shadow: inset 0 -1px 0 rgba(0,0,0,.25)
  display: inline-block // prevent line breaks in CTRL-something

body
  font-family: 'Roboto Slab', serif
  touch-action: none  // Prevent mobile zooming
  margin: 0

.board, .modal
  position: absolute
  overflow: hidden
  top: var(--palette-bottom-height)
  left: var(--palette-left-width)
  width: calc(100% - var(--palette-left-width))
  height: calc(100% - 2 * var(--palette-bottom-height))
.board
  cursor: crosshair
  touch-action: none  // PointerEvents only
#remotes
  pointer-events: none

.palette
  position: absolute
  background: var(--palette-color)
  display: flex
.vertical.palette
  flex-direction: column
  overflow-x: hidden
  overflow-y: auto
  top: 0
  left: 0
  width: var(--palette-left-width)
  height: calc(100% - var(--palette-bottom-height))
.horizontal.palette
  flex-direction: row
  overflow-x: auto
  overflow-y: hidden
  left: 0
  width: 100%
  &.top
    top: 0
    left: var(--palette-left-width)
    height: var(--palette-top-height)
    width: calc(100% - var(--palette-left-width))
  &.bottom
    bottom: 0
    height: var(--palette-bottom-height)
  &#historyRange
    margin: 0 10px

#pageNumbers
  padding: 4px 8px
  #pageNum
    width: 2em

.tool, .color, .width
  flex: none
  width: var(--palette-size)
  height: var(--palette-size)
  border: var(--palette-border) outset #ccc
  cursor: pointer

  &.selected, &.active
    --palette-border: 3px
    background: rgba(0,0,0,0.2)
    border: var(--palette-border) inset rgba(0,0,0,0.2)
    &[data-color="black"]
      border: var(--palette-border) inset rgba(255,255,255,0.2)
  &:active
    --palette-border: 3px
    background: rgba(0,0,0,0.4)
    border: var(--palette-border) inset rgba(0,0,0,0.4)

.tooltip
  cursor: help
  display: block
  position: absolute
  z-index: 99
  width: var(--tooltip-width)
  padding: 5px 8px
  font-size: 16px
  background: padding-box var(--tooltip-color)
  // Arrow
  &:before
    content: ''
    position: absolute
    width: var(--tooltip-arrow)
    height: var(--tooltip-arrow)
    border: var(--tooltip-arrow) solid transparent
    pointer-events: none
  &.vertical
    left: var(--palette-size)
    margin-left: var(--tooltip-arrow)
    // Left arrow
    &:before
      left: calc(-2 * var(--tooltip-arrow))
      border-right-color: var(--tooltip-color)
    &.top:before
      top: calc(0.5 * var(--palette-size) - var(--tooltip-arrow))
    &.bottom:before
      bottom: calc(0.5 * var(--palette-size) - var(--tooltip-arrow))
  &.horizontal
    top: var(--palette-top-height)
    margin-top: var(--tooltip-arrow)
    // Up arrow
    &:before
      top: calc(-2 * var(--tooltip-arrow))
      border-bottom-color: var(--tooltip-color)
      left: calc(50% - var(--tooltip-arrow))
  .hotkey
    float: right
    margin-top: 1px
    margin-left: 3px

.spacer
  flex-basis: 100%
  min-height: calc(var(--palette-size)/2)

.width
  display: flex
  justify-content: center
  align-items: center
  line
    stroke: var(--currentColor)
  text
    fill: black
    text-anchor: middle
    font-size: 10px

.tool
  padding: 2px

svg .highlight
  opacity: 0.333
  pointer-events: none
svg .selected
  opacity: 0.666
  pointer-events: none

body:not(.history)
  .historyShow
    visibility: hidden
body.history
  --palette-color: #d6bc9f  // sepia-like
  .historyHide
    visibility: hidden
body.nopage
  .board
    visibility: hidden !important

#loading
  position: absolute
  display: flex
  justify-content: center
  align-items: center
  top: 0
  left: 0
  width: 100%
  height: 100%
  visibility: hidden
  &.loading
    visibility: visible
  > svg
    width: 10%
    height: 10%
    animation: fa-spin 2s ease infinite

// Modal dialogs
.modal
  padding: 20px 40px
  visibility: hidden
  &.show
    visibility: visible
  cursor: help
.modal.error
  background: pink

// Based on keyframes from Font Awesome Free (see `lib/icons.coffee`).
@keyframes fa-spin
  0%
    transform: rotate(0deg)
  100%
    transform: rotate(360deg)

#download
  display: none

.grid
  stroke-width: 0.96
  stroke: #c4e3f4
